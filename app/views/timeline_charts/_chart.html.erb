<div id='new_duration' style='width:200px; border:1px solid black;z-index:4000' data-message='<%= @timeline_chart.id %>'>Duration </div> 
<div id="my-timeline" style="height: 150px; border: 1px solid #aaa;"></div>

<script>
/*********** simile timeline functions **/
var events = {
  <% if all_events %>
    'dateTimeFormat': 'iso8601',
    'events': [
    <% all_events.each_with_index do |event, i| %>
      {
        <% if event.start_date and event.end_date %>
          'start': '<%= event.start_date.iso8601 %>',
          'end'  : '<%= event.end_date.iso8601 %>',
        <% end %>
        'title': '<%= event.title %>',
        'description': 'This is a sample event called <%= event.title %>'
        }<% if i != all_events.length - 1 -%>, <% end -%>
    <% end %>
    ]
  <% end %>       
};

$(document).ready(
  initialiseTimeline()
);
</script>
